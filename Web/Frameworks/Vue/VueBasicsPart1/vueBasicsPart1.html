<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Vue Basics Part 1</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <link rel="stylesheet" type="text/css" media="screen" href="main.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="card.css" />
</head>

<body>
    <div id="card" class="card">
        <header>{{title}}</header>
        <form class="input" @submit.prevent="addItem">
            <input type="text" id="itemInput">
            <button>Add dinosaurs</button>
        </form>
        <ul>
            <li v-for='(dinosaur, index) of items'>
                <button type="button" @click='deleteItem(index)'>x</button>
                {{ dinosaur.text | capitalize }}
                <p>
                    {{ dinosaur.text | undercase | url }}
                </p>
            </li>
        </ul>
        <footer>You have {{dynoLength}} dyno{{dynoLength > 1 ? 's' : ''}}</footer>
    </div>
    <script>
        const card = new Vue({
            el: "#card",
            data: {
                title: 'Dinosaurs',
                items: [
                    { text: 'Velociraptor' },
                    { text: 'Triceratorps' },
                    { text: 'stegosaurus' },
                ]
            },
            methods: {
                addItem() {
                    const input = document.getElementById('itemInput');
                    if (input.value !== '') {
                        this.items.push({ text: input.value });
                        input.value = '';
                    }
                },
                deleteItem(index) {
                    this.items.splice(index, 1);
                }
            },
            filters: {
                capitalize(value) {
                    if (!value) return '';
                    return value.charAt(0).toUpperCase() + value.slice(1);
                },
                undercase(value) {
                    if (!value) return '';
                    return value.charAt(0).toLowerCase() + value.slice(1);
                },
                url(value) {
                    return `https://www.github.com/${value}`
                }
            },
            computed: {
                dynoLength() {
                    return this.items.length;
                }
            },
        })
    </script>
</body>

</html>